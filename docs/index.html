<!DOCTYPE html><html class="default"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>@webcrypto/tools</title><meta name="description" content="Documentation for @webcrypto/tools"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script async src="assets/search.js" id="search-script"></script></head><body><script>document.body.classList.add(localStorage.getItem("tsd-theme") || "os")</script><header><div class="tsd-page-toolbar"><div class="container"><div class="table-wrap"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption">Search</label><input type="text" id="tsd-search-field"/></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">@webcrypto/tools</a></div><div class="table-cell" id="tsd-widgets"><div id="tsd-filter"><a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a><div class="tsd-filter-group"><div class="tsd-select" id="tsd-filter-visibility"><span class="tsd-select-label">All</span><ul class="tsd-select-list"><li data-value="public">Public</li><li data-value="protected">Public/Protected</li><li data-value="private" class="selected">All</li></ul></div> <input type="checkbox" id="tsd-filter-inherited" checked/><label class="tsd-widget" for="tsd-filter-inherited">Inherited</label><input type="checkbox" id="tsd-filter-externals" checked/><label class="tsd-widget" for="tsd-filter-externals">Externals</label></div></div><a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a></div></div></div></div><div class="tsd-page-title"><div class="container"><h1>@webcrypto/tools</h1></div></div></header><div class="container container-main"><div class="row"><div class="col-8 col-content"><div class="tsd-panel tsd-typography">
<a href="#web-crypto-tools" id="web-crypto-tools" style="color: inherit; text-decoration: none;">
  <h1>Web Crypto Tools</h1>
</a>
<p>
  <a
    href="https://github.com/willgm/web-crypto-tools/actions"
    target="_blank"
  >
    <img
      alt="Build"
      src="https://img.shields.io/github/workflow/status/willgm/web-crypto-tools/CI"
    />
  </a>
  <a
    href="https://www.npmjs.com/package/@webcrypto/tools"
    target="_blank"
  >
    <img
      alt="Version"
      src="https://img.shields.io/github/package-json/v/willgm/web-crypto-tools"
    />
  </a>
  <a
    href="https://github.com/willgm/web-crypto-tools/blob/master/LICENSE"
    target="_blank"
  >
    <img
      src="https://img.shields.io/badge/license-MIT-blue.svg"
      alt="web-crypto-tools is released under the MIT license"
    />
  </a>
  <a
    href="https://github.com/willgm/web-crypto-tools/graphs/contributors"
    target="_blank"
  >
    <img
      alt="Contributors"
      src="https://img.shields.io/github/contributors/willgm/web-crypto-tools.svg"
    />
  </a>
</p>

<blockquote>
<p>This project is a set of tools to facilitate and give good defaults for use of the native <strong><a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Crypto_API">Web Crypto API</a></strong>.</p>
</blockquote>
<p>This project depends on the browser implementation of <a href="https://caniuse.com/#feat=cryptography">Crypto API</a> and <a href="https://caniuse.com/#feat=textencoder">TextEncoder API</a>, which are both current implemented on all green browsers. If you do need to support IE or any older browser, you should look for available polyfills.</p>
<p>The native browser implementation of crypto algorithms are much more fast and secure than any other JavaScript library out there. But at the same time, it is a low level API that relies on you to decide every little detail of it, so this project will give you good defaults and a better developer experience, and still let you decide if you prefer use other algorithms or extra protections. Be aware that, even if this project facilitates the use of the Web Crypto API, it will not prevent you from make any mistakes if you have no idea about cryptography concepts, so take your time to study a little before use it in a real project.</p>
<p>In the end, this is a simple collection of stateless functions, values and types, that can be individually imported and used. The minified project has currently only about 3kb in total and it is also tree-shaking friendly, so you can end up using even less.</p>

<a href="#gear-usage" id="gear-usage" style="color: inherit; text-decoration: none;">
  <h2>:gear: Usage</h2>
</a>

<a href="#install-it-at-your-project" id="install-it-at-your-project" style="color: inherit; text-decoration: none;">
  <h3>Install it at your project</h3>
</a>
<pre><code class="language-bash"><span class="hl-0">npm install @webcrypto/tools --save</span>
</code></pre>

<a href="#encrypt-everything" id="encrypt-everything" style="color: inherit; text-decoration: none;">
  <h3>Encrypt everything</h3>
</a>
<pre><code class="language-ts"><span class="hl-1">import</span><span class="hl-0"> {</span><br/><span class="hl-0">  </span><span class="hl-2">generateBaseCryptoKey</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-2">deriveCryptKey</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-2">generateSalt</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-2">encryptValue</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-2">decryptValue</span><span class="hl-0">,</span><br/><span class="hl-0">  </span><span class="hl-2">decode</span><span class="hl-0">,</span><br/><span class="hl-0">} </span><span class="hl-1">from</span><span class="hl-0"> </span><span class="hl-3">&#39;@webcrypto/tools&#39;</span><span class="hl-0">;</span><br/><br/><span class="hl-4">// get any data, string or typed arrays</span><br/><span class="hl-5">const</span><span class="hl-0"> </span><span class="hl-6">originalData</span><span class="hl-0"> = </span><span class="hl-3">&#39;any data&#39;</span><span class="hl-0">;</span><br/><br/><span class="hl-4">// create a secure base key that cannot be reverted to the original key value</span><br/><span class="hl-5">const</span><span class="hl-0"> </span><span class="hl-6">baseKey</span><span class="hl-0"> = </span><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-7">generateBaseCryptoKey</span><span class="hl-0">(</span><span class="hl-3">&#39;any raw key&#39;</span><span class="hl-0">);</span><br/><br/><span class="hl-4">// create new keys for each crypto operation from the base key</span><br/><span class="hl-5">const</span><span class="hl-0"> </span><span class="hl-6">cryptoKey</span><span class="hl-0"> = </span><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-7">deriveCryptKey</span><span class="hl-0">(</span><span class="hl-2">baseKey</span><span class="hl-0">, </span><span class="hl-7">generateSalt</span><span class="hl-0">());</span><br/><br/><span class="hl-4">// encrypt any value with military level security</span><br/><span class="hl-5">const</span><span class="hl-0"> [</span><span class="hl-6">cryptoValue</span><span class="hl-0">, </span><span class="hl-6">nonce</span><span class="hl-0">] = </span><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-7">encryptValue</span><span class="hl-0">(</span><span class="hl-2">originalData</span><span class="hl-0">, </span><span class="hl-2">cryptoKey</span><span class="hl-0">);</span><br/><br/><span class="hl-4">// decrypt your value when necessary</span><br/><span class="hl-5">const</span><span class="hl-0"> </span><span class="hl-6">decryptedValue</span><span class="hl-0"> = </span><span class="hl-1">await</span><span class="hl-0"> </span><span class="hl-7">decryptValue</span><span class="hl-0">(</span><span class="hl-2">cryptoValue</span><span class="hl-0">, </span><span class="hl-2">cryptoKey</span><span class="hl-0">, </span><span class="hl-2">nonce</span><span class="hl-0">);</span><br/><br/><span class="hl-4">// the decrypted value should be the same of the original</span><br/><span class="hl-7">expect</span><span class="hl-0">(</span><span class="hl-2">originalData</span><span class="hl-0">).</span><span class="hl-7">toEqual</span><span class="hl-0">(</span><span class="hl-7">decode</span><span class="hl-0">(</span><span class="hl-2">decryptedValue</span><span class="hl-0">));</span>
</code></pre>

<a href="#book-documentation" id="book-documentation" style="color: inherit; text-decoration: none;">
  <h2>:book: Documentation</h2>
</a>
<p>The <a href="https://willgm.github.io/web-crypto-tools/">documentation with all available API and options</a> at our GitHub Pages.</p>
<p>The <a href="https://github.com/willgm/web-crypto-tools/tree/master/test">test cases</a> are also quite readable and can be used as example for all the possible API uses.</p>

<a href="#license" id="license" style="color: inherit; text-decoration: none;">
  <h2>License</h2>
</a>
<p><a href="https://github.com/willgm/web-crypto-tools/blob/master/LICENSE">MIT</a></p>
</div></div><div class="col-4 col-menu menu-sticky-wrap menu-highlight"><nav class="tsd-navigation primary"><ul><li class="current"><a href="modules.html">Exports</a></li></ul></nav><nav class="tsd-navigation secondary menu-sticky"><ul><li class="tsd-kind-type-alias"><a href="modules.html#CryptoAlgorithm" class="tsd-kind-icon">Crypto<wbr/>Algorithm</a></li><li class="tsd-kind-type-alias"><a href="modules.html#CryptoKeyUsage" class="tsd-kind-icon">Crypto<wbr/>Key<wbr/>Usage</a></li><li class="tsd-kind-type-alias"><a href="modules.html#DeriveAlgorithm" class="tsd-kind-icon">Derive<wbr/>Algorithm</a></li><li class="tsd-kind-type-alias"><a href="modules.html#DerivedAlgorithmFor" class="tsd-kind-icon">Derived<wbr/>Algorithm<wbr/>For</a></li><li class="tsd-kind-type-alias"><a href="modules.html#ImportAlgorithm" class="tsd-kind-icon">Import<wbr/>Algorithm</a></li><li class="tsd-kind-variable"><a href="modules.html#PBKDF2_ITERATIONS_DEFAULT" class="tsd-kind-icon">PBKDF2_<wbr/>ITERATIONS_<wbr/>DEFAULT</a></li><li class="tsd-kind-function"><a href="modules.html#decode" class="tsd-kind-icon">decode</a></li><li class="tsd-kind-function"><a href="modules.html#decryptValue" class="tsd-kind-icon">decrypt<wbr/>Value</a></li><li class="tsd-kind-function"><a href="modules.html#deriveCryptKey" class="tsd-kind-icon">derive<wbr/>Crypt<wbr/>Key</a></li><li class="tsd-kind-function"><a href="modules.html#encode" class="tsd-kind-icon">encode</a></li><li class="tsd-kind-function"><a href="modules.html#encryptValue" class="tsd-kind-icon">encrypt<wbr/>Value</a></li><li class="tsd-kind-function"><a href="modules.html#generateBaseCryptoKey" class="tsd-kind-icon">generate<wbr/>Base<wbr/>Crypto<wbr/>Key</a></li><li class="tsd-kind-function"><a href="modules.html#generateHash" class="tsd-kind-icon">generate<wbr/>Hash</a></li><li class="tsd-kind-function"><a href="modules.html#generateNonce" class="tsd-kind-icon">generate<wbr/>Nonce</a></li><li class="tsd-kind-function"><a href="modules.html#generateRandomValues" class="tsd-kind-icon">generate<wbr/>Random<wbr/>Values</a></li><li class="tsd-kind-function"><a href="modules.html#generateSalt" class="tsd-kind-icon">generate<wbr/>Salt</a></li><li class="tsd-kind-function"><a href="modules.html#getCryptoObject" class="tsd-kind-icon">get<wbr/>Crypto<wbr/>Object</a></li><li class="tsd-kind-function"><a href="modules.html#isTypedArray" class="tsd-kind-icon">is<wbr/>Typed<wbr/>Array</a></li></ul></nav></div></div></div><footer class="with-border-bottom"><div class="container"><h2>Settings</h2><p>Theme <select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></p></div></footer><div class="container tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div><script src="assets/main.js"></script></body></html>